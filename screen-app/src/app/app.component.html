<div class="main-container">
  <!-- 1. Landing Page -->
  <app-landing-page *ngIf="currentStep === 'LANDING'" (createRoom)="createRoom()">
  </app-landing-page>

  <!-- 2. Lobby (QR Code & Player Status) -->
  <app-start-screen *ngIf="currentStep === 'LOBBY'" [roomCode]="roomCode" [playersConnected]="playersConnected"
    [maxPlayers]="maxPlayers" [qrCodeUrl]="qrCodeUrl" (createRoom)="createRoom()">
  </app-start-screen>

  <!-- 3. Fullscreen Permission Modal -->
  <app-fullscreen-modal *ngIf="showFullscreenModal" (decision)="handleFullscreenDecision($event)">
  </app-fullscreen-modal>

  <!-- 4. Game View -->
  <app-game-view *ngIf="currentStep === 'GAME'" [players]="players" [roadOffset]="roadOffset" [roadSpeed]="roadSpeed"
    [obstacles]="obstacles" [gameRunning]="gameRunning" [gameOver]="gameOver" [remainingTime]="remainingTime"
    [winner]="winner">
  </app-game-view>
</div>