<div class="main-container">
  <!-- 1. Landing Page -->
  <app-landing-page *ngIf="currentStep === 'LANDING'" (createRoom)="createRoom()">
  </app-landing-page>

  <!-- 2. Lobby (QR Screen) -->
  <app-start-screen *ngIf="currentStep === 'LOBBY'" [roomCode]="roomCode" [connectionStatus]="connectionStatus"
    [controllerConnected]="controllerConnected" [qrCodeUrl]="qrCodeUrl" (createRoom)="createRoom()">
  </app-start-screen>

  <!-- 3. Fullscreen Modal (Overlay) -->
  <app-fullscreen-modal *ngIf="showFullscreenModal" (selection)="handleFullscreenDecision($event)">
  </app-fullscreen-modal>

  <!-- 4. Game View -->
  <app-game-view *ngIf="currentStep === 'GAME'" [carPosition]="carPosition" [carSpeed]="carSpeed"
    [roadOffset]="roadOffset" [roadSpeed]="roadSpeed" [obstacles]="obstacles" [gameRunning]="gameRunning"
    [gameOver]="gameOver" [remainingTime]="remainingTime" [currentSpeed]="currentSpeed" [score]="score">
  </app-game-view>
</div>